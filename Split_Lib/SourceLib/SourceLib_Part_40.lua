iCiAgICBAcGFyYW0gZnVuYyAgICAgICAgIHwgZnVuY3Rpb24gICB8IEZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIGNoZWNraW5nLCBzaG91bGQgcmV0dXJuIGEgYm9vbCB2YWx1ZSBpbmRpY2F0aW5nIGlmIGl0IHNob3VsZCBiZSBjYXN0ZWQgYW5kIG9wdGlvbmFsbHkgdGhlIGNhc3QgcGFyYW1zIChleDogdGFyZ2V0IG9yIHggYW5kIHopCl1dCmZ1bmN0aW9uIFNwZWxsOkFkZEF1dG9tYXRpb24oYXV0b21hdGlvbklkLCBmdW5jKQoKICAgIGFzc2VydChhdXRvbWF0aW9uSWQsICJTcGVsbDogYXV0b21hdGlvbklkIGlzIGludmFsaWQhIikKICAgIGFzc2VydChmdW5jIGFuZCB0eXBlKGZ1bmMpID09ICJmdW5jdGlvbiIsICJTcGVsbDogZnVuYyBpcyBpbnZhbGlkISIpCgogICAgZm9yIGluZGV4LCBhdXRvbWF0aW9uIGluIGlwYWlycyhzZWxmLl9hdXRvbWF0aW9ucykgZG8KICAgICAgICBpZiBhdXRvbWF0aW9uLmlkID09IGF1dG9tYXRpb25JZCB0aGVuIHJldHVybiBlbmQKICAgIGVuZAoKICAgIHRhYmxlLmluc2VydChzZWxmLl9hdXRvbWF0aW9ucywgeyBpZCA9PSBhdXRvbWF0aW9uSWQsIGZ1bmMgPSBmdW5jIH0pCgogICAgLS0gUmVnaXN0ZXIgY2FsbGJhY2tzCiAgICBpZiBub3Qgc2VsZi5fX3RpY2tDYWxsYmFjayB0aGVuCiAgICAgICAgQWRkVGlja0NhbGxiYWNrKGZ1bmN0aW9uKCkgc2VsZjpPblRpY2soKSBlbmQpCiAgICAgICAgc2VsZi5fX3RpY2tDYWxsYmFjayA9IHRydWUKICAgIGVuZAoKZW5kCgotLVtbCiAgICBSZW1vdmUgYW5kIGF1dG9