gLS0gT3V0IG9mIHJhbmdlCiAgICAgICAgICAgICAgICBpZiBwb3NpdGlvbiB+PSBuaWwgYW5kIHNlbGYucmFuZ2VTcXIgPCBfR2V0RGlzdGFuY2VTcXIoc2VsZi5zb3VyY2VSYW5nZSwgcG9zaXRpb24pIHRoZW4gcmV0dXJuIFNQRUxMU1RBVEVfT1VUX09GX1JBTkdFIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbHNlaWYgc2VsZi5za2lsbHNob3RUeXBlID09IFNLSUxMU0hPVF9DSVJDVUxBUiB0aGVuCiAgICAgICAgICAgIGlmIHNlbGYudXNlQW9lIHRoZW4KICAgICAgICAgICAgICAgIGNhc3RQb3NpdGlvbiwgaGl0Q2hhbmNlLCBuVGFyZ2V0cyA9IHNlbGY6R2V0UHJlZGljdGlvbihwYXJhbTEpCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGNhc3RQb3NpdGlvbiwgaGl0Q2hhbmNlLCBwb3NpdGlvbiA9IHNlbGY6R2V0UHJlZGljdGlvbihwYXJhbTEpCiAgICAgICAgICAgICAgICAtLSBPdXQgb2YgcmFuZ2UKICAgICAgICAgICAgICAgIGlmIHBvc2l0aW9uIH49IG5pbCBhbmQgbWF0aC5wb3coc2VsZi5yYW5nZSArIHNlbGYud2lkdGggKyBzZWxmLlZQOkdldEhpdEJveChwYXJhbTEpLCAyKSA8IF9HZXREaXN0YW5jZVNxcihzZWxmLnNvdXJjZVJhbmdlLCBwb3NpdGlvbikgdGhlbiByZXR1cm4gU1BFTExTVEFURV9PVVRfT0ZfUkFOR0UgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAoKICAgICAgICAtLSBJbnZhbGlkIGNhc3QsIG9ubHkgaGFwcGVucyB3aXRoIFByb2RpY3Rpb24sIHBsZWFzZSBmaXggdGhpcyBLbG9ramU