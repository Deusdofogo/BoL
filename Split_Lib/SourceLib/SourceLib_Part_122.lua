gICAgICBsb2NhbCB0QnVmZiA9IHVuaXQ6Z2V0QnVmZihpKQogICAgICAgIGlmIHRCdWZmLnZhbGlkIGFuZCBCdWZmSXNWYWxpZCh0QnVmZikgYW5kIHRCdWZmLm5hbWUgPT0gYnVmZm5hbWUgdGhlbgogICAgICAgICAgICByZXR1cm4gdHJ1ZQogICAgICAgIGVuZAogICAgZW5kCiAgICByZXR1cm4gZmFsc2UKCmVuZAoKZnVuY3Rpb24gR2V0U3VtbW9uZXJTbG90KG5hbWUsIHVuaXQpCgogICAgdW5pdCA9IHVuaXQgb3IgcGxheWVyCiAgICBpZiB1bml0OkdldFNwZWxsRGF0YShTVU1NT05FUl8xKS5uYW1lID09IG5hbWUgdGhlbiByZXR1cm4gU1VNTU9ORVJfMSBlbmQKICAgIGlmIHVuaXQ6R2V0U3BlbGxEYXRhKFNVTU1PTkVSXzIpLm5hbWUgPT0gbmFtZSB0aGVuIHJldHVybiBTVU1NT05FUl8yIGVuZAoKZW5kCgpmdW5jdGlvbiBHZXRFbmVteUhQQmFyUG9zKGVuZW15KQoKICAgIC0tIFByZXZlbnQgZXJyb3Igc3BhbW1pbmcKICAgIGlmIG5vdCBlbmVteS5iYXJEYXRhIHRoZW4KICAgICAgICBpZiBub3QgX0cuX19zb3VyY2VMaWJfYmFyRGF0YUluZm9ybWVkIHRoZW4KICAgICAgICAgICAgcHJpbnQoIlNvdXJjZUxpYjogYmFyRGF0YSB3YXMgbm90IGZvdW5kLCBzcHVkZ3kgcGxlYXNlLi4uIikKICAgICAgICAgICAgX0cuX19zb3VyY2VMaWJfYmFyRGF0YUluZm9ybWVkID0gdHJ1ZQogICAgICAgIGVuZAogICAgICAgIHJldHVybgogICAgZW5kCgogICAgbG9jYWwgYmFyUG9zID0gR2V0VW5pdEhQQmFyUG9zKGVuZW15KQogICAgbG9jYWwgYmFyUG9zT2Z