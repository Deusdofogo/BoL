0YXRvIGNvbXB1dGVycyBhbHNvIHVzZSBTb3VyY2VMaWIKCiAgICBGdW5jdGlvbnM6CiAgICAgICAgVGlja0xpbWl0ZXIoZnVuYywgZnJlcXVlbmN5KQoKXV0KY2xhc3MgJ1RpY2tMaW1pdGVyJwoKLS1bWwogICAgU3RhcnRzIFRpY2tMaW1pdGVyIGluc3RhbmNlCgogICAgQHBhcmFtIGZ1bmMgICAgICAgfCBmdW5jdGlvbiB8IFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQKICAgIEBwYXJhbSBmcmVxdWVuY3kgIHwgaW50ZWdlciAgfCBUaGUgdGltZXMgdGhlIGZ1bmN0aW9uIHdpbGwgY2FsbGVkIHBlciBzZWNvbmQuCl1dCmZ1bmN0aW9uIFRpY2tMaW1pdGVyOl9faW5pdChmdW5jLCBmcmVxdWVuY3kpCgogICAgYXNzZXJ0KGZyZXF1ZW5jeSBhbmQgZnJlcXVlbmN5ID4gMCwgIlRpY2tMaW1pdGVyOiBmcmVjdWVuY3kgaXMgaW52YWxpZCEiKQogICAgYXNzZXJ0KGZ1bmMgYW5kIHR5cGUoZnVuYykgPT0gImZ1bmN0aW9uIiwgIlRpY2tMaW1pdGVyOiBmdW5jIGlzIGludmFsaWQhIikKCiAgICBzZWxmLmxhc3R0aWNrID0gMAogICAgc2VsZi5pbnRlcnZhbCA9IDEgLyBmcmVxdWVuY3kKCiAgICBzZWxmLmZ1bmMgPSBmdW5jCiAgICBBZGRUaWNrQ2FsbGJhY2soZnVuY3Rpb24oKSBzZWxmOk9uVGljaygpIGVuZCkKCmVuZAoKLS1bWwogICAgSW50ZXJuYWwgY2FsbGJhY2sKXV0KZnVuY3Rpb24gVGlja0xpbWl0ZXI6T25UaWNrKCkKCiAgICBpZiBvcy5jbG9jaygpIC0gc2VsZi5sYXN0dGljayA+PSBzZWxmLmludGVydmFsIHRoZW4KICAgICAgICBzZWxmLmZ1bmM