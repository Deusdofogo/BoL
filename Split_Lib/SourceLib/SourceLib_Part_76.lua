gIEFkZHMgdGhlIEhlYWx0aCBiYXIgaW5kaWNhdG9ycyB0byB0aGUgbWVudS4KCiAgICBAcGFyYW0gbWVudSAgfCBzY3JpcHRDb25maWcgfCBBbGxDbGFzcyBtZW51IG9yIHN1Ym1lbnUgaW5zdGFuY2UuCiAgICBAcGFyYW0gY29tYm8gfCB0YWJsZSAgICAgICAgfCBUaGUgY29tYm8gdGFibGUuCl1dCmZ1bmN0aW9uIERhbWFnZUxpYjpBZGRUb01lbnUobWVudSwgY29tYm8pCgogICAgc2VsZi5tZW51ID0gbWVudQogICAgc2VsZi5jb21ibyA9IGNvbWJvCiAgICBzZWxmLnRpY2tsaW1pdCA9IDUgLS01IHRpY2tzIHBlciBzZWNjb25kCiAgICBzZWxmLmJhcndpZHRoID0gMTAwCiAgICBzZWxmLmNhY2hlZERhbWFnZSA9IHt9CiAgICBtZW51OmFkZFBhcmFtKCJEcmF3UHJlZGljdGVkSGVhbHRoIiwgIkRyYXcgZGFtYWdlIGFmdGVyIGNvbWJvLiIsIFNDUklQVF9QQVJBTV9PTk9GRiAsIHRydWUpCiAgICBzZWxmLmVuYWJsZWQgPSBtZW51LkRyYXdQcmVkaWN0ZWRIZWFsdGgKICAgIEFkZFRpY2tDYWxsYmFjayhmdW5jdGlvbigpIHNlbGY6T25UaWNrKCkgZW5kKQogICAgQWRkRHJhd0NhbGxiYWNrKGZ1bmN0aW9uKCkgc2VsZjpPbkRyYXcoKSBlbmQpCgplbmQKCmZ1bmN0aW9uIERhbWFnZUxpYjpPblRpY2soKQoKICAgIGlmIG5vdCBzZWxmLm1lbnVbIkRyYXdQcmVkaWN0ZWRIZWFsdGgiXSB0aGVuIHJldHVybiBlbmQKICAgIHNlbGYubGFzdHRpY2sgPSBzZWxmLmxhc3R0aWNrIG9yIDAKICAgIGlmIG9zLmNsb2NrKCkgLSBzZWxmLmxhc3R0aWNrID4gMSAvIHN