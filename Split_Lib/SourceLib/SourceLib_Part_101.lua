heER1cmF0aW9uID0gMi41LCBDYW5Nb3ZlID0gZmFsc2UgfSwKCn0KCmZ1bmN0aW9uIEludGVycnVwdGVyOl9faW5pdChtZW51LCBjYikKCiAgICBzZWxmLmNhbGxiYWNrcyA9IHt9CiAgICBzZWxmLmFjdGl2ZXNwZWxscyA9IHt9CiAgICBBZGRUaWNrQ2FsbGJhY2soZnVuY3Rpb24oKSBzZWxmOk9uVGljaygpIGVuZCkKICAgIEFkZFByb2Nlc3NTcGVsbENhbGxiYWNrKGZ1bmN0aW9uKHVuaXQsIHNwZWxsKSBzZWxmOk9uUHJvY2Vzc1NwZWxsKHVuaXQsIHNwZWxsKSBlbmQpCiAgICBpZiBtZW51IHRoZW4KICAgICAgICBzZWxmOkFkZFRvTWVudShtZW51KQogICAgZW5kCiAgICBpZiBjYiB0aGVuCiAgICAgICAgc2VsZjpBZGRDYWxsYmFjayhjYikKICAgIGVuZAoKZW5kCgpmdW5jdGlvbiBJbnRlcnJ1cHRlcjpBZGRUb01lbnUobWVudSkKCiAgICBhc3NlcnQobWVudSwgIkludGVycnVwdGVyOiBtZW51IGNhbid0IGJlIG5pbCEiKQogICAgbG9jYWwgU3BlbGxBZGRlZCA9IGZhbHNlCiAgICBsb2NhbCBFbmVteUNoYW1waW9uY2hhck5hbWVzID0ge30KICAgIGZvciBpLCBlbmVteSBpbiBpcGFpcnMoR2V0RW5lbXlIZXJvZXMoKSkgZG8KICAgICAgICB0YWJsZS5pbnNlcnQoRW5lbXlDaGFtcGlvbmNoYXJOYW1lcywgZW5lbXkuY2hhck5hbWUpCiAgICBlbmQKICAgIG1lbnU6YWRkUGFyYW0oIkVuYWJsZWQiLCAiRW5hYmxlZCIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkKICAgIGZvciBzcGVsbE5hbWUsIGRhdGEgaW4gcGFpcnMoX0lOVEVSUlVQVElCTEV