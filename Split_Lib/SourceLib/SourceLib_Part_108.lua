KICAgIGZvciBzcGVsbE5hbWUsIGNoYXJOYW1lIGluIHBhaXJzKF9HQVBDTE9TRVJfU1BFTExTKSBkbwogICAgICAgIGlmIHRhYmxlLmNvbnRhaW5zKEVuZW15Q2hhbXBpb25jaGFyTmFtZXMsIGNoYXJOYW1lKSB0aGVuCiAgICAgICAgICAgIG1lbnU6YWRkUGFyYW0oc3RyaW5nLmdzdWIoc3BlbGxOYW1lLCAiXyIsICIiKSwgY2hhck5hbWUuLiIgLSAiLi5zcGVsbE5hbWUsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkKICAgICAgICAgICAgU3BlbGxBZGRlZCA9IHRydWUKICAgICAgICBlbmQKICAgIGVuZAogICAgaWYgbm90IFNwZWxsQWRkZWQgdGhlbgogICAgICAgIG1lbnU6YWRkUGFyYW0oIkluZm8iLCAiSW5mbyIsIFNDUklQVF9QQVJBTV9JTkZPLCAiTm8gc3BlbGwgYXZhaWxhYmxlIHRvIGludGVycnVwdCIpCiAgICBlbmQKICAgIHNlbGYuTWVudSA9IG1lbnUKCmVuZAoKZnVuY3Rpb24gQW50aUdhcGNsb3NlcjpBZGRDYWxsYmFjayhjYikKCiAgICBhc3NlcnQoY2IgYW5kIHR5cGUoY2IpID09ICJmdW5jdGlvbiIsICJBbnRpR2FwY2xvc2VyOiBjYWxsYmFjayBpcyBpbnZhbGlkISIpCiAgICB0YWJsZS5pbnNlcnQoc2VsZi5jYWxsYmFja3MsIGNiKQoKZW5kCgpmdW5jdGlvbiBBbnRpR2FwY2xvc2VyOlRyaWdnZXJDYWxsYmFja3ModW5pdCwgc3BlbGwpCgogICAgZm9yIGksIGNhbGxiYWNrIGluIGlwYWlycyhzZWxmLmNhbGxiYWNrcykgZG8KICAgICAgICBjYWxsYmFjayh1bml0LCBzcGVsbCkKICAgIGVuZAoKZW5kCgpmdW5jdGlvbiBBbnRpR2F