KICAgIHNlbGY6VXBkYXRlU2xvdCgpCiAgICByZXR1cm4gc2VsZi5zbG90CmVuZAoKLS1bWwogICAgVXBkYXRlcyB0aGUgaXRlbSBzbG90IHRvIHRoZSBjdXJyZW50IG9uZSAoaWYgY2hhbmdlZCkKXV0KZnVuY3Rpb24gSXRlbTpVcGRhdGVTbG90KCkKICAgIHNlbGYuc2xvdCA9IEdldEludmVudG9yeVNsb3RJdGVtKHNlbGYuaWQpCmVuZAoKLS1bWwogICAgUmV0dXJucyBpZiB0aGUgaXRlbSBpcyByZWFkeSB0byBiZSBjYXN0ZWQgKG9ubHkgd29ya2luZyB3aGVuIGl0J3MgYW4gYWN0aXZlIGl0ZW0pCgogICAgQHJldHVybiB8IGJvb2xlYW4gfCBTdGF0ZSBvZiB0aGUgaXRlbQpdXQpmdW5jdGlvbiBJdGVtOklzUmVhZHkoKQogICAgc2VsZjpVcGRhdGVTbG90KCkKICAgIHJldHVybiBzZWxmLnNsb3QgYW5kIChwbGF5ZXI6Q2FuVXNlU3BlbGwoc2VsZi5zbG90KSA9PSBSRUFEWSkKZW5kCgotLVtbCiAgICBSZXR1cm5zIGlmIHRoZSBpdGVtIChhY3R1YWxseSBwbGF5ZXIpIGlzIGluIHJhbmdlIG9mIHRoZSB0YXJnZXQKCiAgICBAcGFyYW0gdGFyZ2V0IHwgQ1VuaXQgICB8IFRhcmdldCB1bml0CiAgICBAcmV0dXJuICAgICAgIHwgYm9vbGVhbiB8IEluIHJhbmdlIG9yIG5vdApdXQpmdW5jdGlvbiBJdGVtOkluUmFuZ2UodGFyZ2V0KQogICAgcmV0dXJuIF9HZXREaXN0YW5jZVNxcih0YXJnZXQpIDw9IHNlbGYucmFuZ2VTcXIKZW5kCgotLVtbCiAgICBDYXN0cyB0aGUgaXRlbQoKICAgIEBwYXJhbSBwYXJhbTEgfCBDVW5pdC9mbG9hdCB8IEVpdGhlciB0aGU