KCiAgICBzZWxmLl9fY2hhcmdlZF9hY3RpdmUgICA9IGZhbHNlCiAgICBzZWxmLl9fY2hhcmdlZF9jYXN0VGltZSA9IDAKCiAgICAtLSBSZWdpc3RlciBjYWxsYmFja3MKICAgIGlmIG5vdCBzZWxmLl9fdGlja0NhbGxiYWNrIHRoZW4KICAgICAgICBBZGRUaWNrQ2FsbGJhY2soZnVuY3Rpb24oKSBzZWxmOk9uVGljaygpIGVuZCkKICAgICAgICBzZWxmLl9fdGlja0NhbGxiYWNrID0gdHJ1ZQogICAgZW5kCgogICAgaWYgbm90IHNlbGYuX19zZW5kUGFja2V0Q2FsbGJhY2sgdGhlbgogICAgICAgIEFkZFNlbmRQYWNrZXRDYWxsYmFjayhmdW5jdGlvbihwKSBzZWxmOk9uU2VuZFBhY2tldChwKSBlbmQpCiAgICAgICAgc2VsZi5fX3NlbmRQYWNrZXRDYWxsYmFjayA9IHRydWUKICAgIGVuZAoKICAgIGlmIG5vdCBzZWxmLl9fcHJvY2Vzc1NwZWxsQ2FsbGJhY2sgdGhlbgogICAgICAgIEFkZFByb2Nlc3NTcGVsbENhbGxiYWNrKGZ1bmN0aW9uKHVuaXQsIHNwZWxsKSBzZWxmOk9uUHJvY2Vzc1NwZWxsKHVuaXQsIHNwZWxsKSBlbmQpCiAgICAgICAgc2VsZi5fX3Byb2Nlc3NTcGVsbENhbGxiYWNrID0gdHJ1ZQogICAgZW5kCgogICAgcmV0dXJuIHNlbGYKCmVuZAoKLS1bWwogICAgUmV0dXJucyB3aGV0aGVyIHRoZSBzcGVsbCBpcyBjdXJyZW50bHkgY2hhcmdpbmcgb3Igbm90CgogICAgQHJldHVybiB8IGJvb2wgfCBTcGVsbCBjaGFyZ2luZyBvciBub3QKXV0KZnVuY3Rpb24gU3BlbGw6SXNDaGFyZ2luZygpCiAgICByZXR1cm4gc2VsZi5fX2NoYXJnZWRfYWJ