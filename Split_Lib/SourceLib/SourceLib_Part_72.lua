hdCwgcGVyY2VudHNjYWxpbmcsIGNvbmRpdGlvbiwgZXh0cmEpCgogICAgYmFzZWRhbWFnZSA9IGJhc2VkYW1hZ2Ugb3IgMAogICAgcGVybGV2ZWwgPSBwZXJsZXZlbCBvciAwCiAgICBjb25kaXRpb24gPSBjb25kaXRpb24odGFyZ2V0KQogICAgc2NhbGluZ3R5cGUgPSBzY2FsaW5ndHlwZSBvciAwCiAgICBzY2FsaW5nc3RhdCA9IHNjYWxpbmdzdGF0IG9yIF9BUAogICAgcGVyY2VudHNjYWxpbmcgPSBwZXJjZW50c2NhbGluZyBvciAwCiAgICBleHRyYSA9IGV4dHJhIG9yIGZ1bmN0aW9uKCkgcmV0dXJuIDAgZW5kCiAgICBsb2NhbCBTY2FsaW5nRGFtYWdlID0gMAoKICAgIGlmIG5vdCBjb25kaXRpb24gdGhlbiByZXR1cm4gMCBlbmQKCiAgICBpZiB0eXBlKHNjYWxpbmd0eXBlKSA9PSAibnVtYmVyIiB0aGVuCiAgICAgICAgU2NhbGluZ0RhbWFnZSA9IFNjYWxpbmdEYW1hZ2UgKyBzZWxmOkdldFNjYWxpbmdEYW1hZ2UodGFyZ2V0LCBzY2FsaW5ndHlwZSwgc2NhbGluZ3N0YXQsIHBlcmNlbnRzY2FsaW5nKQogICAgZWxzZWlmIHR5cGUoc2NhbGluZ3R5cGUpID09ICJ0YWJsZSIgdGhlbgogICAgICAgIGZvciBpLCB2IGluIGlwYWlycyhzY2FsaW5ndHlwZSkgZG8KICAgICAgICAgICAgU2NhbGluZ0RhbWFnZSA9IFNjYWxpbmdEYW1hZ2UgKyBzZWxmOkdldFNjYWxpbmdEYW1hZ2UodGFyZ2V0LCBzY2FsaW5ndHlwZVtpXSwgc2NhbGluZ3N0YXRbaV0sIHBlcmNlbnRzY2FsaW5nW2ldKQogICAgICAgIGVuZAogICAgZW5kCgogICAgaWYgZGFtYWdldHlwZSA