gICAgZW5kCgogICAgICAgIGVsc2UgcmV0dXJuIFNQRUxMU1RBVEVfTk9UX0lNTU9CSUxFIGVuZAogICAgZWxzZQogICAgICAgIGxvY2FsIGlzSW1tb2JpbGUsIHBvc2l0aW9uID0gc2VsZi5WUDpJc0ltbW9iaWxlKHRhcmdldCwgMC4yNSArIDAuMDcgKyBHZXRMYXRlbmN5KCkgLyAyMDAwLCAxLCBtYXRoLmh1Z2UsIHNlbGYuc291cmNlUG9zaXRpb24pCgogICAgICAgIC0tIE91dCBvZiByYW5nZQogICAgICAgIGlmIHNlbGYucmFuZ2VTcXIgPCBfR2V0RGlzdGFuY2VTcXIoc2VsZi5zb3VyY2VSYW5nZSwgdGFyZ2V0KSB0aGVuIHJldHVybiBTUEVMTFNUQVRFX09VVF9PRl9SQU5HRSBlbmQKCiAgICAgICAgaWYgaXNJbW1vYmlsZSB0aGVuCiAgICAgICAgICAgIHJldHVybiBzZWxmOl9fQ2FzdCh0YXJnZXQpCiAgICAgICAgZWxzZQogICAgICAgICAgICByZXR1cm4gU1BFTExTVEFURV9OT1RfSU1NT0JJTEUKICAgICAgICBlbmQKICAgIGVuZAoKICAgIHJldHVybiBTUEVMTFNUQVRFX05PVF9UUklHR0VSRUQKCmVuZAoKLS1bWwogICAgQ2FzdCB0aGUgc3BlbGwsIHJlc3BlY3RpbmcgcHJldmlvdXNseSBtYWRlIGRlY2lzaW9ucyBhYm91dCBza2lsbHNob3RzIGFuZCBBT0Ugc3R1ZmYKCiAgICBAcGFyYW0gcGFyYW0xIHwgdXNlcmRhdGEvZmxvYXQgfCBXaGVuIHBhcmFtMiBpcyBuaWwgdGhlbiB0aGlzIGNhbiBiZSB0aGUgdGFyZ2V0IG9iamVjdCwgb3RoZXJ3aXNlIHRoaXMgaXMgdGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgc2tpbGxzaG90IHBvc2l0aW9uCiA