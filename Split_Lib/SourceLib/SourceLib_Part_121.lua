JRCBhbmQgKHAxLm5ldHdvcmtJRCB+PSAwKSBhbmQgcDEudmlzaW9uUG9zIHRoZW4gcDEgPSBwMS52aXNpb25Qb3MgZW5kCiAgICBpZiBwMiBhbmQgcDIubmV0d29ya0lEIGFuZCAocDIubmV0d29ya0lEIH49IDApIGFuZCBwMi52aXNpb25Qb3MgdGhlbiBwMiA9IHAyLnZpc2lvblBvcyBlbmQKICAgIHJldHVybiBHZXREaXN0YW5jZVNxcihwMSwgcDIpCiAgICAKZW5kCgpmdW5jdGlvbiBHZXRPYmplY3RzQXJvdW5kKHJhZGl1cywgcG9zaXRpb24sIGNvbmRpdGlvbikKCiAgICByYWRpdXMgPSBtYXRoLnBvdyhyYWRpdXMsIDIpCiAgICBwb3NpdGlvbiA9IHBvc2l0aW9uIG9yIHBsYXllcgogICAgbG9jYWwgb2JqZWN0c0Fyb3VuZCA9IHt9CiAgICBmb3IgaSA9IDEsIG9iak1hbmFnZXIubWF4T2JqZWN0cyBkbwogICAgICAgIGxvY2FsIG9iamVjdCA9IG9iak1hbmFnZXI6Z2V0T2JqZWN0KGkpCiAgICAgICAgaWYgb2JqZWN0IGFuZCBvYmplY3QudmFsaWQgYW5kIChjb25kaXRpb24gYW5kIGNvbmRpdGlvbihvYmplY3QpID09IHRydWUgb3Igbm90IGNvbmRpdGlvbikgYW5kIF9HZXREaXN0YW5jZVNxcihwb3NpdGlvbiwgb2JqZWN0KSA8PSByYWRpdXMgdGhlbgogICAgICAgICAgICB0YWJsZS5pbnNlcnQob2JqZWN0c0Fyb3VuZCwgb2JqZWN0KQogICAgICAgIGVuZAogICAgZW5kCiAgICByZXR1cm4gb2JqZWN0c0Fyb3VuZAoKZW5kCgpmdW5jdGlvbiBIYXNCdWZmKHVuaXQsIGJ1ZmZuYW1lKQoKICAgIGZvciBpID0gMSwgdW5pdC5idWZmQ291bnQgZG8KICA