0IHNlbGYuTWVudS5FbmFibGVkIHRoZW4gcmV0dXJuIGVuZAogICAgaWYgdW5pdC50ZWFtIH49IG15SGVyby50ZWFtIHRoZW4KICAgICAgICBpZiBfSU5URVJSVVBUSUJMRV9TUEVMTFNbc3BlbGwubmFtZV0gdGhlbgogICAgICAgICAgICBsb2NhbCBTcGVsbFRvSW50ZXJydXB0ID0gX0lOVEVSUlVQVElCTEVfU1BFTExTW3NwZWxsLm5hbWVdCiAgICAgICAgICAgIGlmIChzZWxmLk1lbnUgYW5kIHNlbGYuTWVudVtzdHJpbmcuZ3N1YihzcGVsbC5uYW1lLCAiXyIsICIiKV0pIG9yIG5vdCBzZWxmLk1lbnUgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgZGF0YSA9IHt1bml0ID0gdW5pdCwgRGFuZ2VyTGV2ZWwgPSBTcGVsbFRvSW50ZXJydXB0LkRhbmdlckxldmVsLCBlbmRUID0gb3MuY2xvY2soKSArIFNwZWxsVG9JbnRlcnJ1cHQuTWF4RHVyYXRpb24sIENhbk1vdmUgPSBTcGVsbFRvSW50ZXJydXB0LkNhbk1vdmV9CiAgICAgICAgICAgICAgICB0YWJsZS5pbnNlcnQoc2VsZi5hY3RpdmVzcGVsbHMsIGRhdGEpCiAgICAgICAgICAgICAgICBzZWxmOlRyaWdnZXJDYWxsYmFja3MoZGF0YS51bml0LCBkYXRhKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAoKZW5kCgpmdW5jdGlvbiBJbnRlcnJ1cHRlcjpPblRpY2soKQoKICAgIGZvciBpID0gI3NlbGYuYWN0aXZlc3BlbGxzLCAxLCAtMSBkbwogICAgICAgIGlmIHNlbGYuYWN0aXZlc3BlbGxzW2ldLmVuZFQgLSBvcy5jbG9jaygpID4gMCB0aGVuCiAgICAgICAgICAgIHNlbGY6VHJpZ2d