gaWYgcGFyYW0xIH49IG5pbCBhbmQgcGFyYW0yIH49IG5pbCBhbmQgc2VsZi5fX2NoYXJnZWQgYW5kIHNlbGY6SXNDaGFyZ2luZygpIHRoZW4KICAgICAgICBsb2NhbCBwID0gQ0xvTFBhY2tldCgyMjkpCiAgICAgICAgcDpFbmNvZGVGKHBsYXllci5uZXR3b3JrSUQpCiAgICAgICAgcDpFbmNvZGUxKDB4ODApCiAgICAgICAgcDpFbmNvZGVGKHBhcmFtMSkKICAgICAgICBwOkVuY29kZUYoMCkKICAgICAgICBwOkVuY29kZUYocGFyYW0yKQogICAgICAgIFNlbmRQYWNrZXQocCkKICAgICAgICByZXR1cm4gU1BFTExTVEFURV9UUklHR0VSRUQKICAgIGVuZAoKICAgIC0tIENhc3QgdGhlIHNwZWxsCiAgICByZXR1cm4gc2VsZjpfX0Nhc3QocGFyYW0xLCBwYXJhbTIpCgplbmQKCi0tW1sKICAgIEludGVybmFsIGZ1bmN0aW9uLCBkbyBub3QgdXNlIHRoaXMhCl1dCmZ1bmN0aW9uIFNwZWxsOl9fQ2FzdChwYXJhbTEsIHBhcmFtMikKCiAgICBpZiBzZWxmLnBhY2tldENhc3QgdGhlbgogICAgICAgIGlmIHBhcmFtMSB+PSBuaWwgYW5kIHBhcmFtMiB+PSBuaWwgdGhlbgogICAgICAgICAgICBQYWNrZXQoIlNfQ0FTVCIsIHtzcGVsbElkID0gc2VsZi5zcGVsbElkLCB0b1ggPSBwYXJhbTEsIHRvWSA9IHBhcmFtMiwgZnJvbVggPSBwYXJhbTEsIGZyb21ZID0gcGFyYW0yfSk6c2VuZCgpCiAgICAgICAgZWxzZWlmIHBhcmFtMSB+PSBuaWwgdGhlbgogICAgICAgICAgICBQYWNrZXQoIlNfQ0FTVCIsIHtzcGVsbElkID0gc2VsZi5zcGVsbElkLCB0b1ggPSBwYXJhbTE