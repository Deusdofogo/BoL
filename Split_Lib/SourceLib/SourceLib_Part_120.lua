KICAgICAgICBlbmQKICAgIGVuZAoKZW5kCgpmdW5jdGlvbiBHZXRNYXBOYW1lKCkKCiAgICBpZiBJc01hcChTVU1NT05FUlNfUklGVCkgdGhlbgogICAgICAgIHJldHVybiAiU3VtbW9uZXJzIFJpZnQiCiAgICBlbHNlaWYgSXNNYXAoQ1JZU1RBTF9TQ0FSKSB0aGVuCiAgICAgICAgcmV0dXJuICJDcnlzdGFsIFNjYXIiCiAgICBlbHNlaWYgSXNNYXAoSE9XTElOR19BQllTUykgdGhlbgogICAgICAgIHJldHVybiAiSG93bGluZyBBYnlzcyIKICAgIGVsc2VpZiBJc01hcChUV0lTVEVEX1RSRUVMSU5FKSB0aGVuCiAgICAgICAgcmV0dXJuICJUd2lzdGVkIFRyZWVsaW5lIgogICAgZWxzZWlmIElzTWFwKFBST1ZJTkdfR1JPVU5EUykgdGhlbgogICAgICAgIHJldHVybiAiUHJvdmluZyBHcm91bmRzIgogICAgZWxzZQogICAgICAgIHJldHVybiAiVW5rbm93biBtYXAiCiAgICBlbmQKCmVuZAoKZnVuY3Rpb24gUHJvdGVjdFRhYmxlKHQpCgogICAgbG9jYWwgcHJveHkgPSB7fQogICAgbG9jYWwgbXQgPSB7CiAgICBfX2luZGV4ID0gdCwKICAgIF9fbmV3aW5kZXggPSBmdW5jdGlvbiAodCxrLHYpCiAgICAgICAgZXJyb3IoJ2F0dGVtcHQgdG8gdXBkYXRlIGEgcmVhZC1vbmx5IHRhYmxlJywgMikKICAgICAgICBlbmQKICAgIH0KICAgIHNldG1ldGF0YWJsZShwcm94eSwgbXQpCiAgICByZXR1cm4gcHJveHkKCmVuZAoKZnVuY3Rpb24gX0dldERpc3RhbmNlU3FyKHAxLCBwMikKCiAgICBwMiA9IHAyIG9yIHBsYXllcgogICAgaWYgcDEgYW5kIHAxLm5ldHdvcmt