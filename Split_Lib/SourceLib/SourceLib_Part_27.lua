TcGVsbDpTZXRIaXRDaGFuY2UoaGl0Q2hhbmNlKQoKICAgIHNlbGYuaGl0Q2hhbmNlID0gaGl0Q2hhbmNlIG9yIDIKCiAgICByZXR1cm4gc2VsZgoKZW5kCgotLVtbCiAgICBDaGVja3MgaWYgdGhlIGdpdmVuIHRhcmdldCBpcyB2YWxpZCBmb3IgdGhlIHNwZWxsCgogICAgQHBhcmFtIHRhcmdldCB8IHVzZXJkYXRhIHwgVGFyZ2V0IHRvIGJlIGNoZWNrZWQgaWYgdmFsaWQKICAgIEByZXR1cm4gICAgICAgfCBib29sICAgICB8IFZhbGlkIHRhcmdldCBvciBub3QKXV0KZnVuY3Rpb24gU3BlbGw6VmFsaWRUYXJnZXQodGFyZ2V0LCByYW5nZSkKCiAgICByZXR1cm4gVmFsaWRUYXJnZXQodGFyZ2V0LCByYW5nZSBvciBzZWxmLnJhbmdlKQoKZW5kCgotLVtbCiAgICBSZXR1cm5zIHRoZSBwcmVkaWN0aW9uIHJlc3VsdHMgZnJvbSBWUHJlZGljdGlvbi9Qcm9kaWN0aW9uIGluIGEgVlByZWRpY3Rpb24gcmVzdWx0IGxheW91dAoKICAgIEByZXR1cm4gfCB2YXJpb3VzIGRhdGEgfCBQcmVkaWN0aW9uIHJlc3VsdCBpbiBWUHJlZGljdGlvbiBsYXlvdXQKXV0KZnVuY3Rpb24gU3BlbGw6R2V0UHJlZGljdGlvbih0YXJnZXQpCgogICAgaWYgc2VsZi5za2lsbHNob3RUeXBlIH49IG5pbCB0aGVuCiAgICAgICAgaWYgc2VsZi5wcmVkaWN0aW9uVHlwZSA9PSAxIHRoZW4KICAgICAgICAgICAgaWYgc2VsZi5za2lsbHNob3RUeXBlID09IFNLSUxMU0hPVF9MSU5FQVIgdGhlbgogICAgICAgICAgICAgICAgaWYgc2VsZi51c2VBb2UgdGhlbgogICAgICAgICAgICAgICAgICA