pcyEKXV0KZnVuY3Rpb24gU3BlbGw6T25Qcm9jZXNzU3BlbGwodW5pdCwgc3BlbGwpCgogICAgaWYgdW5pdCBhbmQgdW5pdC52YWxpZCBhbmQgdW5pdC5pc01lIGFuZCBzcGVsbCBhbmQgc3BlbGwubmFtZSB0aGVuCgogICAgICAgIC0tIFRyYWNrZWQgc3BlbGxzCiAgICAgICAgaWYgc2VsZi5fX3RyYWNrZWRfc3BlbGxOYW1lcyB0aGVuCiAgICAgICAgICAgIGZvciBfLCB0cmFja2VkU3BlbGwgaW4gaXBhaXJzKHNlbGYuX190cmFja2VkX3NwZWxsTmFtZXMpIGRvCiAgICAgICAgICAgICAgICBpZiB0cmFja2VkU3BlbGw6bG93ZXIoKSA9PSBzcGVsbC5uYW1lOmxvd2VyKCkgdGhlbgogICAgICAgICAgICAgICAgICAgIHNlbGYuX190cmFja2VkX2xhc3RDYXN0VGltZSA9IG9zLmNsb2NrKCkKICAgICAgICAgICAgICAgICAgICBzZWxmLl9fdHJhY2tlZF9jYXN0Q2FsbGJhY2soc3BlbGwpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCgogICAgICAgIC0tIENoYXJnZWQgc3BlbGxzCiAgICAgICAgaWYgc2VsZi5fX2NoYXJnZWQgYW5kIHNlbGYuX19jaGFyZ2VkX3NwZWxsTmFtZTpsb3dlcigpID09IHNwZWxsLm5hbWU6bG93ZXIoKSB0aGVuCiAgICAgICAgICAgIHNlbGYuX19jaGFyZ2VkX2FjdGl2ZSAgICAgICA9IHRydWUKICAgICAgICAgICAgc2VsZi5fX2NoYXJnZWRfYWJvcnRlZCAgICAgID0gZmFsc2UKICAgICAgICAgICAgc2VsZi5fX2NoYXJnZWRfaW5pdGlhbFJhbmdlID0gc2VsZi5yYW5nZQogICAgICAgICA