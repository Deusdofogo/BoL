9IGZhbHNlCgogICAgc2VsZi5yZXF1aXJlbWVudHMgPSB7fQoKZW5kCgpmdW5jdGlvbiBSZXF1aXJlOkFkZChuYW1lLCB1cmwpCgogICAgYXNzZXJ0KG5hbWUgYW5kIHR5cGUobmFtZSkgPT0gInN0cmluZyIgYW5kIHVybCBhbmQgdHlwZSh1cmwpID09ICJzdHJpbmciLCAiUmVxdWlyZTpBZGQoKTogU29tZSBvciBhbGwgYXJndW1lbnRzIGFyZSBpbnZhbGlkLiIpCiAgICAKICAgIHNlbGYucmVxdWlyZW1lbnRzW25hbWVdID0gdXJsCgogICAgcmV0dXJuIHNlbGYKCmVuZAoKZnVuY3Rpb24gUmVxdWlyZTpDaGVjaygpCgogICAgZm9yIHNjcmlwdE5hbWUsIHNjcmlwdFVybCBpbiBwYWlycyhzZWxmLnJlcXVpcmVtZW50cykgZG8KICAgICAgICBsb2NhbCBzY3JpcHRGaWxlID0gTElCX1BBVEggLi4gc2NyaXB0TmFtZSAuLiAiLmx1YSIKICAgICAgICBpZiBGaWxlRXhpc3Qoc2NyaXB0RmlsZSkgdGhlbgogICAgICAgICAgICByZXF1aXJlKHNjcmlwdE5hbWUpCiAgICAgICAgZWxzZQogICAgICAgICAgICBzZWxmLmRvd25sb2FkTmVlZGVkID0gdHJ1ZQogICAgICAgICAgICBzZWxmLmRvd25sb2FkQ291bnQgPSBzZWxmLmRvd25sb2FkQ291bnQgYW5kIHNlbGYuZG93bmxvYWRDb3VudCArIDEgb3IgMQogICAgICAgICAgICBEb3dubG9hZEZpbGUoc2NyaXB0VXJsLCBzY3JpcHRGaWxlLCBmdW5jdGlvbigpIF9fcmVxdWlyZV9hZnRlckRvd25sb2FkKHNlbGYpIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAoKICAgIHJldHVybiBzZWxmCgplbmQKCgotLVtbCgogLnw