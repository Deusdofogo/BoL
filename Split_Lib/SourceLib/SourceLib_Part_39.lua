ueCwgdG9ZID0gcGFyYW0xLnosIGZyb21YID0gcGFyYW0xLngsIGZyb21ZID0gcGFyYW0xLnosIHRhcmdldE5ldHdvcmtJZCA9IHBhcmFtMS5uZXR3b3JrSUR9KTpzZW5kKCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIFBhY2tldCgiU19DQVNUIiwge3NwZWxsSWQgPSBzZWxmLnNwZWxsSWQsIHRvWCA9IHBsYXllci54LCB0b1kgPSBwbGF5ZXIueiwgZnJvbVggPSBwbGF5ZXIueCwgZnJvbVkgPSBwbGF5ZXIueiwgdGFyZ2V0TmV0d29ya0lkID0gcGxheWVyLm5ldHdvcmtJRH0pOnNlbmQoKQogICAgICAgIGVuZAogICAgZWxzZQogICAgICAgIGlmIHBhcmFtMSB+PSBuaWwgYW5kIHBhcmFtMiB+PSBuaWwgdGhlbgogICAgICAgICAgICBDYXN0U3BlbGwoc2VsZi5zcGVsbElkLCBwYXJhbTEsIHBhcmFtMikKICAgICAgICBlbHNlaWYgcGFyYW0xIH49IG5pbCB0aGVuCiAgICAgICAgICAgIENhc3RTcGVsbChzZWxmLnNwZWxsSWQsIHBhcmFtMSkKICAgICAgICBlbHNlCiAgICAgICAgICAgIENhc3RTcGVsbChzZWxmLnNwZWxsSWQpCiAgICAgICAgZW5kCiAgICBlbmQKCiAgICByZXR1cm4gU1BFTExTVEFURV9UUklHR0VSRUQKCmVuZAoKLS1bWwogICAgQWRkIGFuIGF1dG9tYXRpb24gdG8gdGhlIHNwZWxsIHRvIGxldCBpdCBjYXN0IGl0c2VsZiB3aGVuIGEgY2VydGFpbiBjb25kaXRpb24gaXMgbWV0CgogICAgQHBhcmFtIGF1dG9tYXRpb25JZCB8IHN0cmluZy9pbnQgfCBUaGUgSUQgb2YgdGhlIGF1dG9tYXRpb24sIGV4YW1wbGUgIkFudGlHYXBDbG9zZXI