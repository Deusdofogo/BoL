hbmNlKG1pZGRsZXBvaW50LCBmcm9tKSkKCgkJbG9jYWwgVjEgPSAoUDEgLSBmcm9tKQoJCWxvY2FsIFYyID0gKFAyIC0gZnJvbSkKCgkJcmV0dXJuIGZyb20gKyByYW5nZSAqIChwb3MgLSBWMSAtIGZyb20pOm5vcm1hbGl6ZWQoKSwgZnJvbSArIHJhbmdlICogKHBvcyAtIFYyIC0gZnJvbSk6bm9ybWFsaXplZCgpCgllbmQKCglsb2NhbCBmdW5jdGlvbiBDb3VudEhpdHMoUDEsIFAyLCB3aWR0aCwgcG9pbnRzKQoJCWxvY2FsIGhpdHMgPSAwCgkJbG9jYWwgaGl0dCA9IHt9CgkJd2lkdGggPSB3aWR0aCArIDIKCQlmb3IgaSwgcG9pbnQgaW4gaXBhaXJzKHBvaW50cykgZG8KCQkJbG9jYWwgcG9pbnRTZWdtZW50LCBwb2ludExpbmUsIGlzT25TZWdtZW50ID0gVmVjdG9yUG9pbnRQcm9qZWN0aW9uT25MaW5lU2VnbWVudChQMSwgUDIsIHBvaW50KQoJCQlpZiBpc09uU2VnbWVudCBhbmQgR2V0RGlzdGFuY2VTcXIocG9pbnRTZWdtZW50LCBwb2ludCkgPD0gd2lkdGggKiB3aWR0aCB0aGVuCgkJCQloaXRzID0gaGl0cyArIDEKCQkJCXRhYmxlLmluc2VydChoaXR0LCBwb2ludCkKCQkJZWxzZWlmIGkgPT0gMSB0aGVuCgkJCQlyZXR1cm4gLTEKCQkJZW5kCgkJZW5kCgkJcmV0dXJuIGhpdHMsIGhpdHQKCWVuZAoKCWZvciBpLCB0YXJnZXQgaW4gaXBhaXJzKEdldEVuZW15SGVyb2VzKCkpIGRvCgkJaWYgdGFyZ2V0Lm5ldHdvcmtJRCB+PSB1bml0Lm5ldHdvcmtJRCBhbmQgVmFsaWRUYXJnZXQodGFyZ2V0LCByYW5nZSAqIDEuNSkgdGhlbgoJCQlDYXN0UG9zaXR