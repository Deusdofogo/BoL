ueSkgLSBWZWN0b3Iod2F5cG9pbnQudW5pdHBvcy54LCAwLCB3YXlwb2ludC51bml0cG9zLnkpKQoJCQkJaWYgYW5nbGUgPiBNYXggdGhlbgoJCQkJCU1heCA9IGFuZ2xlCgkJCQllbmQKCQllbmQKCXJldHVybiBNYXgKZW5kCgpmdW5jdGlvbiBWUHJlZGljdGlvbjpXYXlQb2ludEFuYWx5c2lzKHVuaXQsIGRlbGF5LCByYWRpdXMsIHJhbmdlLCBzcGVlZCwgZnJvbSwgc3BlbGx0eXBlKQoJbG9jYWwgUG9zaXRpb24sIENhc3RQb3NpdGlvbiwgSGl0Q2hhbmNlCglsb2NhbCBTYXZlZFdheVBvaW50cyA9IHNlbGYuVGFyZ2V0c1dheXBvaW50c1t1bml0Lm5ldHdvcmtJRF0gYW5kIHNlbGYuVGFyZ2V0c1dheXBvaW50c1t1bml0Lm5ldHdvcmtJRF0gb3Ige30KCWxvY2FsIEN1cnJlbnRXYXlQb2ludHMgPSBzZWxmOkdldEN1cnJlbnRXYXlQb2ludHModW5pdCkKCWxvY2FsIFZpc2libGVTaW5jZSA9IHNlbGYuVGFyZ2V0c1Zpc2libGVbdW5pdC5uZXR3b3JrSURdIGFuZCBzZWxmLlRhcmdldHNWaXNpYmxlW3VuaXQubmV0d29ya0lEXSBvciBzZWxmOkdldFRpbWUoKQoJCglIaXRDaGFuY2UgPSAxCglQb3NpdGlvbiwgQ2FzdFBvc2l0aW9uID0gc2VsZjpDYWxjdWxhdGVUYXJnZXRQb3NpdGlvbih1bml0LCBkZWxheSwgcmFkaXVzLCBzcGVlZCwgZnJvbSwgc3BlbGx0eXBlKQoKCWlmIHNlbGY6Q291bnRXYXlwb2ludHModW5pdC5uZXR3b3JrSUQsIHNlbGY6R2V0VGltZSgpIC0gMC4xKSA+PSAxIG9yIHNlbGY6Q291bnRXYXlwb2ludHModW5pdC5uZXR3b3JrSUQsIHN