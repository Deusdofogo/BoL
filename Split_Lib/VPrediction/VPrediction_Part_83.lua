vIDIsIDApCgkJbG9jYWwgdjIgPSBWZWN0b3IocG9zaXRpb24pOnJvdGF0ZWQoMCwgYW5nbGUgLyAyLCAwKQoJCXJldHVybiBDb3VudFZlY3RvcnNCZXR3ZWVuKHYxLCB2MiwgcG9pbnRzKQoJZW5kCgoJZm9yIGksIHRhcmdldCBpbiBpcGFpcnMoR2V0RW5lbXlIZXJvZXMoKSkgZG8KCQlpZiB0YXJnZXQubmV0d29ya0lEIH49IHVuaXQubmV0d29ya0lEIGFuZCBWYWxpZFRhcmdldCh0YXJnZXQsIHJhbmdlICogMS41KSB0aGVuCgkJCUNhc3RQb3NpdGlvbiwgSGl0Q2hhbmNlLCBQb3NpdGlvbiA9IHNlbGY6R2V0QmVzdENhc3RQb3NpdGlvbih0YXJnZXQsIGRlbGF5LCByYWRpdXMsIHJhbmdlLCBzcGVlZCwgZnJvbSwgZmFsc2UsICJsaW5lIikKCQkJaWYgR2V0RGlzdGFuY2VTcXIoZnJvbSwgUG9zaXRpb24pIDwgcmFuZ2UgKiByYW5nZSB0aGVuCgkJCQl0YWJsZS5pbnNlcnQocG9pbnRzLCBWZWN0b3IoUG9zaXRpb24pIC0gVmVjdG9yKGZyb20pKQoJCQllbmQKCQllbmQKCWVuZAoKCWxvY2FsIE1heEhpdFBvcwoJbG9jYWwgTWF4SGl0ID0gMQoJbG9jYWwgTWF4SGl0UG9pbnRzID0ge30KCglpZiAjcG9pbnRzID4gMSB0aGVuCgkJZm9yIGksIHBvaW50IGluIGlwYWlycyhwb2ludHMpIGRvCgkJCWxvY2FsIHBvczEgPSBWZWN0b3IocG9pbnQpOnJvdGF0ZWQoMCwgYW5nbGUgLyAyLCAwKQoJCQlsb2NhbCBwb3MyID0gVmVjdG9yKHBvaW50KTpyb3RhdGVkKDAsIC0gYW5nbGUgLyAyLCAwKQoKCQkJbG9jYWwgaGl0cywgcG9pbnRzMSA9IENoZWNrSGl0KHBvczE