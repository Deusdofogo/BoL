Qb3NpdGlvbgoJCQkJZWxzZQoJCQkJCUNhc3RQb3NpdGlvbiA9IFZlY3Rvcihmcm9tKSArIHJhbmdlICogKFZlY3RvcihQb3NpdGlvbikgLSBWZWN0b3IoZnJvbSkpOm5vcm1hbGl6ZWQoKQoJCQkJZW5kCgkJCWVuZAoJCWVsc2VpZiAoR2V0RGlzdGFuY2VTcXIoZnJvbSwgQ2FzdFBvc2l0aW9uKSA+IHJhbmdlIF4gMikgdGhlbgoJCQlIaXRDaGFuY2UgPSAwCgkJZW5kCgllbmQKCglyYWRpdXMgPSByYWRpdXMgLSBzZWxmOkdldEhpdEJveCh1bml0KSArIDQKCglpZiBjb2xsaXNpb24gYW5kIEhpdENoYW5jZSA+IDAgdGhlbgoJCXNlbGYuRW5lbXlNaW5pb25zLnJhbmdlID0gcmFuZ2UgKyA1MDAgKiAoZGVsYXkgKyByYW5nZS9zcGVlZCkKCQlzZWxmLkp1bmdsZU1pbmlvbnMucmFuZ2UgPSBzZWxmLkVuZW15TWluaW9ucy5yYW5nZQoJCXNlbGYuT3RoZXJNaW5pb25zLnJhbmdlID0gc2VsZi5FbmVteU1pbmlvbnMucmFuZ2UKCQlzZWxmLkVuZW15TWluaW9uczp1cGRhdGUoKQoJCXNlbGYuSnVuZ2xlTWluaW9uczp1cGRhdGUoKQoJCXNlbGYuT3RoZXJNaW5pb25zOnVwZGF0ZSgpCgoJCWlmIGNvbGxpc2lvbiBhbmQgX0cuVlByZWRpY3Rpb25NZW51LkNvbGxpc2lvbi5Vbml0UG9zIGFuZCBzZWxmOkNoZWNrTWluaW9uQ29sbGlzaW9uKHVuaXQsIHVuaXQsIGRlbGF5LCByYWRpdXMsIHJhbmdlLCBzcGVlZCwgZnJvbSkgdGhlbgoJCQlIaXRDaGFuY2UgPSAtMQoJCWVsc2VpZiBfRy5WUHJlZGljdGlvbk1lbnUuQ29sbGlzaW9uLlByZWRpY3RQb3MgYW5kIHNlbGY