kCglyZXR1cm4gVGFyZ2V0RGFzaGluZywgQ2FuSGl0LCBQb3NpdGlvbgplbmQKCmZ1bmN0aW9uIFZQcmVkaWN0aW9uOkdldFdheXBvaW50cyhOZXR3b3JrSUQsIGZyb20sIHRvKQoJbG9jYWwgUmVzdWx0ID0ge30KCXRvID0gdG8gYW5kIHRvIG9yIHNlbGY6R2V0VGltZSgpCglpZiBzZWxmLlRhcmdldHNXYXlwb2ludHNbTmV0d29ya0lEXSB0aGVuCgkJZm9yIGksIHdheXBvaW50IGluIGlwYWlycyhzZWxmLlRhcmdldHNXYXlwb2ludHNbTmV0d29ya0lEXSkgZG8KCQkJaWYgZnJvbSA8PSB3YXlwb2ludC50aW1lICBhbmQgdG8gPj0gd2F5cG9pbnQudGltZSB0aGVuCgkJCQl0YWJsZS5pbnNlcnQoUmVzdWx0LCB3YXlwb2ludCkKCQkJZW5kCgkJZW5kCgllbmQKCXJldHVybiBSZXN1bHQsICNSZXN1bHQKZW5kCgpmdW5jdGlvbiBWUHJlZGljdGlvbjpDb3VudFdheXBvaW50cyhOZXR3b3JrSUQsIGZyb20sIHRvKQoJbG9jYWwgUiwgTiA9IHNlbGY6R2V0V2F5cG9pbnRzKE5ldHdvcmtJRCwgZnJvbSwgdG8pCglyZXR1cm4gTgplbmQKCmZ1bmN0aW9uIFZQcmVkaWN0aW9uOkdldFdheXBvaW50c0xlbmd0aChXYXlwb2ludHMpCglsb2NhbCByZXN1bHQgPSAwCglmb3IgaSA9IDEsICNXYXlwb2ludHMgLTEgZG8KCQlyZXN1bHQgPSByZXN1bHQgKyBHZXREaXN0YW5jZShXYXlwb2ludHNbaV0sIFdheXBvaW50c1tpICsgMV0pCgllbmQKCXJldHVybiByZXN1bHQKZW5kCgpmdW5jdGlvbiBWUHJlZGljdGlvbjpDdXRXYXlwb2ludHMoV2F5cG9pbnRzLCBkaXN0YW5jZSk