sIGFuZ2xlLCBwb2ludHMpCgkJCWxvY2FsIGhpdHMyLCBwb2ludHMyID0gQ2hlY2tIaXQocG9zMiwgYW5nbGUsIHBvaW50cykKCgkJCWlmIGhpdHMgPj0gTWF4SGl0IHRoZW4KCQkJCU1heEhpdFBvcyA9IEMxCgkJCQlNYXhIaXQgPSBoaXRzCgkJCQlNYXhIaXRQb2ludHMgPSBwb2ludHMxCgkJCWVuZAoJCQlpZiBoaXRzMiA+PSBNYXhIaXQgdGhlbgoJCQkJTWF4SGl0UG9zID0gQzIKCQkJCU1heEhpdCA9IGhpdHMyCgkJCQlNYXhIaXRQb2ludHMgPSBwb2ludHMyCgkJCWVuZAoJCWVuZAoJZW5kCgoJaWYgTWF4SGl0ID4gMSB0aGVuCgkJLS1DZW50ZXIgdGhlIGNvbmUKCQlsb2NhbCBtYXhhbmdsZSA9IC0xCgkJbG9jYWwgcDEKCQlsb2NhbCBwMgoJCWZvciBpLCBoaXRwIGluIGlwYWlycyhNYXhIaXRQb2ludHMpIGRvCgkJCWZvciBvLCBoaXRwMiBpbiBpcGFpcnMoTWF4SGl0UG9pbnRzKSBkbwoJCQkJbG9jYWwgY2FuZ2xlID0gVmVjdG9yKCk6YW5nbGVCZXR3ZWVuKGhpdHAyLCBoaXRwKSAKCQkJCWlmIGNhbmdsZSA+IG1heGFuZ2xlIHRoZW4KCQkJCQltYXhhbmdsZSA9IGNhbmdsZQoJCQkJCXAxID0gaGl0cAoJCQkJCXAyID0gaGl0cDIKCQkJCWVuZAoJCQllbmQKCQllbmQKCgoJCXJldHVybiBWZWN0b3IoZnJvbSkgKyByYW5nZSAqICgoKHAxICsgcDIpIC8gMikpOm5vcm1hbGl6ZWQoKSwgbWFpbkhpdENoYW5jZSwgTWF4SGl0CgllbHNlCgkJcmV0dXJuIG1haW5DYXN0UG9zaXRpb24sIG1haW5IaXRDaGFuY2UsIDEKCWVuZAplbmQKCmZ1bmN0aW9uIFZ