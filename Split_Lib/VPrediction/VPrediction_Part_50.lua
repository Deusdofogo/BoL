ob2JqZWN0LnZpc2lvblBvcy54LCBvYmplY3QudmlzaW9uUG9zLnopKQoJCQlmb3IgaSA9IG9iamVjdC5wYXRoSW5kZXgsIG9iamVjdC5wYXRoQ291bnQgZG8KCQkJCXBhdGggPSBvYmplY3Q6R2V0UGF0aChpKQoJCQkJdGFibGUuaW5zZXJ0KHJlc3VsdCwgVmVjdG9yKHBhdGgueCwgcGF0aC56KSkKCQkJZW5kCgkJZWxzZQoJCQl0YWJsZS5pbnNlcnQocmVzdWx0LCBvYmplY3QudmlzaW9uUG9zIGFuZCBWZWN0b3Iob2JqZWN0LnZpc2lvblBvcy54LCBvYmplY3QudmlzaW9uUG9zLnopIG9yIFZlY3RvcihvYmplY3QueCwgb2JqZWN0LnopKQoJCWVuZAoJCXJldHVybiByZXN1bHQKCWVsc2UKCQlsb2NhbCB3YXlQb2ludHMsIGxpbmVTZWdtZW50LCBkaXN0YW5jZVNxciwgZlBvaW50ID0gV2F5UG9pbnRNYW5hZ2VyOkdldFJhd1dheVBvaW50cyhvYmplY3QpLCAwLCBtYXRoLmh1Z2UsIG5pbAoJCWlmIG5vdCB3YXlQb2ludHMgYW5kIG5vdCBvYmplY3QudmlzaW9uUG9zIHRoZW4KCQkJcmV0dXJuIHsgeyB4ID0gb2JqZWN0LngsIHkgPSBvYmplY3QueiB9IH0KCQllbHNlaWYgbm90IHdheVBvaW50cyBhbmQgb2JqZWN0LnZpc2lvblBvcyB0aGVuCgkJCXJldHVybiB7IHsgeCA9IG9iamVjdC52aXNpb25Qb3MueCwgeSA9IG9iamVjdC52aXNpb25Qb3MueiB9IH0KCQllbmQKCQlmb3IgaSA9IDEsICN3YXlQb2ludHMgLSAxIGRvCgkJCWxvY2FsIHAxLCB0bXAxLCB0bXAyID0gVmVjdG9yUG9pbnRQcm9qZWN0aW9uT25MaW5lU2VnbWVudCh3YXlQb2ludHNbaV0sIHd